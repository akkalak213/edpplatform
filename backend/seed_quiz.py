# ไฟล์: backend/app/seed_quiz.py
from app.database import SessionLocal, engine
from app.models import edp

# สร้างตารางถ้ายังไม่มี
edp.Base.metadata.create_all(bind=engine)

def seed_questions():
    db = SessionLocal()
    
    try:
        print("กำลังเคลียร์ข้อมูลข้อสอบเก่า...")
        
        # [FIXED] 1. ต้องลบ QuizAttempt (ประวัติการสอบ) ก่อน เพื่อแก้ปัญหา Foreign Key ที่ล็อก QuizQuestion ไว้
        deleted_attempts = db.query(edp.QuizAttempt).delete()
        print(f"ลบประวัติการสอบเก่าทิ้งไป: {deleted_attempts} รายการ (เพื่อหลีกเลี่ยงข้อผิดพลาดจาก Foreign Key)")
        
        # [FIXED] 2. จากนั้นถึงจะสามารถลบ QuizQuestion (คำถามเก่า) ได้อย่างปลอดภัย
        deleted_questions = db.query(edp.QuizQuestion).delete()
        print(f"ลบคำถามชุดเก่าทิ้งไป: {deleted_questions} รายการ")
        
        db.commit()

        print("เริ่มนำเข้าข้อสอบชุดใหม่ 40 ข้อ...")
        questions = [
            # --- ด้านที่ 1: ความคิดริเริ่ม (Originality) ---
            {
                "question_text": "1. หากต้องการแก้ปัญหน้ำท่วมขังในหมู่บ้านโดยไม่ใช้เครื่องสูบน้ำ แนวทางในข้อใดสะท้อนความคิดริเริ่มได้ดีที่สุด?",
                "choices": [
                    "ขุดลอกท่อระบายน้ำเพื่อเพิ่มพื้นที่รองรับน้ำให้มากขึ้น",
                    "สร้างแนวกระสอบทรายเพื่อกั้นทิศทางน้ำไหลเข้าหมู่บ้าน",
                    "ปูพื้นด้วยวัสดุบล็อกพรุนที่ช่วยให้น้ำซึมลงดินได้ทันที",
                    "สร้างสะพานไม้ชั่วคราวเพื่อให้คนสามารถเดินข้ามไปมาได้"
                ],
                "correct_choice_index": 2, 
                "category": "Originality"
            },
            {
                "question_text": "2. การจัดการขวดพลาสติกเหลือใช้ในโรงเรียน ข้อใดเป็นการสร้างมูลค่าเพิ่มที่แปลกใหม่และมีความคิดริเริ่มสูงสุด?",
                "choices": [
                    "ตัดครึ่งขวดเพื่อทำเป็นกระถางปลูกต้นไม้ริมระเบียงห้อง",
                    "นำมาร้อยต่อกันทำเป็นโมบายแขวนตกแต่งภายในห้องเรียน",
                    "อัดขยะชิ้นเล็กลงขวดทำเป็นอิฐเชิงนิเวศเพื่อใช้ก่อสร้าง",
                    "คัดแยกสีและทำความสะอาดเพื่อนำไปขายให้ร้านรับซื้อ"
                ],
                "correct_choice_index": 2, 
                "category": "Originality"
            },
            {
                "question_text": "3. การออกแบบเก้าอี้สาธารณะเพื่อแก้ปัญหาคนมานอนยึดพื้นที่ ข้อใดคือการแก้ปัญหาที่ฉีกแนวคิดจากรูปแบบดั้งเดิม?",
                "choices": [
                    "ติดตั้งป้ายประกาศข้อห้ามการนอนไว้บริเวณพนักพิงเก้าอี้",
                    "จัดเจ้าหน้าที่รักษาความปลอดภัยคอยเดินตรวจตราพื้นที่",
                    "ออกแบบที่นั่งให้มีที่กั้นแขนคั่นกลางระหว่างทุกที่นั่ง",
                    "เลือกใช้วัสดุที่แข็งและเก็บความเย็นเพื่อให้นั่งไม่สบาย"
                ],
                "correct_choice_index": 2, # [FIXED] เดิมตั้งเป็น 3 (ง) แต่ชอยส์ "มีที่กั้นแขน" อยู่ index 2
                "category": "Originality"
            },
            {
                "question_text": "4. ในการพัฒนาแอปพลิเคชันสำหรับส่งการบ้าน ฟีเจอร์ใดถือเป็นนวัตกรรมที่แปลกใหม่และต่างไปจากระบบเดิม?",
                "choices": [
                    "ระบบแจ้งเตือนอัตโนมัติผ่านข้อความเมื่อใกล้ถึงกำหนดส่ง",
                    "ระบบแปลงภาระงานเป็นการเก็บเลเวลเพื่อนำไปแลกสิทธิพิเศษ",
                    "ระบบอัปโหลดไฟล์ที่รองรับทั้งรูปภาพและเอกสารแบบพีดีเอฟ",
                    "ระบบกระดานสนทนาสำหรับสอบถามข้อสงสัยกับครูผู้สอนโดยตรง"
                ],
                "correct_choice_index": 1, 
                "category": "Originality"
            },
            {
                "question_text": "5. หากกระแสไฟฟ้าดับขณะกำลังอ่านหนังสือเตรียมสอบ การใช้อุปกรณ์รอบตัวในข้อใดมีความสร้างสรรค์มากที่สุด?",
                "choices": [
                    "เปิดไฟฉายจากโทรศัพท์มือถือแล้ววางขวดน้ำทับเพื่อกระจายแสง",
                    "นั่งรอจนกว่ากระแสไฟฟ้าจะกลับมาใช้งานได้ตามปกติอีกครั้ง",
                    "จุดเทียนไขหรือไฟแช็กเพื่อใช้ส่องสว่างบริเวณหน้าหนังสือ",
                    "เดินออกไปหาพื้นที่ที่มีแสงสว่างเพียงพอเช่นร้านสะดวกซื้อ"
                ],
                "correct_choice_index": 0, 
                "category": "Originality"
            },
            {
                "question_text": "6. การนำเทคโนโลยี IoT มาแก้ปัญหาการลืมกุญแจบ้าน ข้อใดแสดงถึงการนำความรู้มาประยุกต์ใช้ได้อย่างสร้างสรรค์?",
                "choices": [
                    "นำกุญแจสำรองไปซ่อนไว้ใต้กระถางต้นไม้บริเวณหน้าบ้าน",
                    "ฝากกุญแจบ้านสำรองไว้กับเพื่อนบ้านที่สนิทสนมและไว้ใจได้",
                    "ติดตั้งระบบกลอนประตูที่สั่งปลดล็อกผ่านแอปพลิเคชันมือถือ",
                    "โทรศัพท์ติดต่อช่างทำกุญแจให้มาช่วยเปิดประตูบ้านให้ทันที"
                ],
                "correct_choice_index": 2, 
                "category": "Originality"
            },
            {
                "question_text": "7. ถ้านักเรียนต้องการลดปัญหาขยะเศษอาหารในโรงอาหาร วิธีการใดมีความแปลกใหม่มากกว่าการนำไปทำปุ๋ยหมัก?",
                "choices": [
                    "รณรงค์ให้นักเรียนรับประทานอาหารให้หมดจานเพื่อลดปริมาณขยะ",
                    "สร้างโรงเรือนสำหรับเลี้ยงหมูหลุมภายในบริเวณพื้นที่โรงเรียน",
                    "นำเศษอาหารไปหมักเป็นก๊าซชีวภาพเพื่อใช้เป็นเชื้อเพลิงหุงต้ม",
                    "ว่าจ้างบริษัทเอกชนให้เข้ามากำจัดและขนย้ายขยะในทุกๆ วัน"
                ],
                "correct_choice_index": 2, 
                "category": "Originality"
            },
            {
                "question_text": "8. การออกแบบร่มกันฝนเพื่อแก้ปัญหาเวลาหุบร่มแล้วน้ำเปียกเลอะพื้น ข้อใดจัดว่าเป็นนวัตกรรมการออกแบบ?",
                "choices": [
                    "ออกแบบเป็นร่มพับสามตอนเพื่อให้พกพาใส่กระเป๋าได้สะดวก",
                    "ผลิตจากพลาสติกใสเพื่อให้มองเห็นทัศนวิสัยขณะใช้งานได้ดี",
                    "ออกแบบกลไกให้กางและหุบแบบกลับด้านเพื่อกักเก็บน้ำฝนไว้",
                    "เพิ่มขนาดความกว้างของร่มให้สามารถป้องกันฝนได้หลายคน"
                ],
                "correct_choice_index": 2, 
                "category": "Originality"
            },
            {
                "question_text": "9. หากต้องการปลูกพืชในห้องพักคอนโดมิเนียมที่มีพื้นที่จำกัดมาก ข้อใดคือวิธีการปลูกรูปแบบใหม่ที่เหมาะสม?",
                "choices": [
                    "ปลูกพืชในกระถางขนาดเล็กแล้วนำไปวางเรียงบริเวณริมระเบียง",
                    "ปลูกพืชแบบแนวตั้งบนผนังห้องโดยใช้ระบบหมุนเวียนน้ำอัตโนมัติ",
                    "เพาะเมล็ดพืชลงในขวดโหลแก้วแล้วนำมาจัดวางไว้บนโต๊ะทำงาน",
                    "เลือกซื้อผักสดจากตลาดหรือซูเปอร์มาร์เก็ตแทนการปลูกเอง"
                ],
                "correct_choice_index": 1, 
                "category": "Originality"
            },
            {
                "question_text": "10. การแก้ปัญหาการตื่นสายสำหรับคนที่มักปิดนาฬิกาปลุกแล้วนอนต่อ ข้อใดแสดงถึงความคิดริเริ่มในการแก้ปัญหา?",
                "choices": [
                    "ซื้อนาฬิกาปลุกหลายๆ เรือนมาตั้งเวลาให้ดังต่อเนื่องกัน",
                    "ขอความช่วยเหลือจากสมาชิกในครอบครัวให้มาช่วยปลุกทุกเช้า",
                    "ใช้นาฬิกาที่บังคับให้ลุกไปสแกนคิวอาร์โค้ดในห้องน้ำจึงจะดับ",
                    "ปรับเปลี่ยนพฤติกรรมโดยการเข้านอนให้เร็วกว่าปกติในทุกคืน"
                ],
                "correct_choice_index": 2, 
                "category": "Originality"
            },

            # --- ด้านที่ 2: ความคิดคล่องแคล่ว (Fluency) ---
            {
                "question_text": "11. เมื่อคอมพิวเตอร์ทำงานช้า นักเรียนที่มีความคิดคล่องแคล่วจะตั้งข้อสังเกตและหาสาเหตุในลักษณะใด?",
                "choices": [
                    "สรุปทันทีว่าระบบติดไวรัสและทำการลงโปรแกรมป้องกันใหม่",
                    "คิดหาสาเหตุเดียวที่เป็นไปได้มากที่สุดเพื่อประหยัดเวลาซ่อม",
                    "ระบุสาเหตุทั้งเรื่องไวรัส แรม ฮาร์ดดิสก์ และความร้อนของเครื่อง",
                    "ยกเครื่องไปให้ช่างซ่อมผู้เชี่ยวชาญตรวจสอบเพื่อความแน่ใจ"
                ],
                "correct_choice_index": 2, 
                "category": "Fluency"
            },
            {
                "question_text": "12. ในการระดมสมอง (Brainstorming) เพื่อหาวิธีประหยัดพลังงาน พฤติกรรมใดแสดงถึงความคล่องแคล่วในการคิด?",
                "choices": [
                    "พยายามเสนอวิธีการแก้ปัญหาที่ดีและสมบูรณ์แบบที่สุดเพียงวิธีเดียว",
                    "นำเสนอไอเดียให้ได้มากที่สุดในเวลาจำกัดโดยยังไม่ต้องตัดสินความถูกผิด",
                    "คอยวิจารณ์และคัดกรองแนวคิดของเพื่อนร่วมกลุ่มที่ดูเหมือนจะทำไม่ได้จริง",
                    "นั่งฟังข้อมูลจากสมาชิกทุกคนเพื่อรวบรวมและสรุปผลในตอนท้ายของการประชุม"
                ],
                "correct_choice_index": 1, 
                "category": "Fluency"
            },
            {
                "question_text": "13. หากไม่มีเชือก นักเรียนคนใดแสดงถึงความคล่องแคล่วในการหาวัสดุทดแทนเพื่อใช้มัดสิ่งของในยามฉุกเฉิน?",
                "choices": [
                    "เอ ค้นหาเถาวัลย์ตามต้นไม้ใหญ่บริเวณใกล้เคียงเพื่อนำมาใช้งานเพียงอย่างเดียว",
                    "บี ล้มเลิกความตั้งใจเมื่อพบว่าไม่มีเชือกตามที่ต้องการในบริเวณจุดเกิดเหตุ",
                    "ซี เสนอให้ใช้ทั้งเถาวัลย์ เศษผ้า สายไฟเก่า และเทปกาว มาดัดแปลงใช้งานร่วมกัน",
                    "ดี เดินทางไปที่ร้านสะดวกซื้อเพื่อซื้อเชือกเส้นใหม่มาใช้งานโดยเฉพาะ"
                ],
                "correct_choice_index": 2, 
                "category": "Fluency"
            },
            {
                "question_text": "14. หากต้องการเดินทางจากโรงเรียนกลับบ้านให้เร็วที่สุด ผู้ที่มีความคิดคล่องแคล่วจะพิจารณาการเดินทางอย่างไร?",
                "choices": [
                    "เลือกใช้บริการรถโดยสารประจำทางเพราะมีความคุ้นเคยกับเส้นทางนี้มากที่สุด",
                    "เรียกใช้บริการรถจักรยานยนต์รับจ้างเนื่องจากสามารถหลบหลีกรถติดได้ดีกว่า",
                    "ใช้บริการรถไฟฟ้าเพราะควบคุมเวลาได้แน่นอนและเดินทางได้รวดเร็วที่สุดเสมอ",
                    "ลิสต์วิธีการเดินทางที่เป็นไปได้ทั้งหมดเพื่อนำมาเปรียบเทียบระยะเวลาก่อนตัดสินใจ"
                ],
                "correct_choice_index": 3, 
                "category": "Fluency"
            },
            {
                "question_text": "15. ในการระดมสมองเพื่อนำขวดน้ำพลาสติกไปดัดแปลงใช้งาน บุคคลใดแสดงถึงทักษะความคิดคล่องแคล่วได้ดีที่สุด?",
                "choices": [
                    "นายเอ เสนอให้นำขวดพลาสติกไปล้างทำความสะอาดเพื่อใช้กรอกน้ำดื่มซ้ำ",
                    "นายบี ตัดสินใจนำขวดพลาสติกไปตัดครึ่งเพื่อประดิษฐ์เป็นที่ตักผงขยะ",
                    "นายซี เสนอไอเดียทำแจกัน รถของเล่น กระถาง ทุ่นลอยน้ำ และที่ใส่ปากกา",
                    "นายดี แนะนำให้นำขวดพลาสติกทั้งหมดไปทิ้งลงในถังขยะสำหรับรีไซเคิล"
                ],
                "correct_choice_index": 2, 
                "category": "Fluency"
            },
            {
                "question_text": "16. ในขั้นตอนการรวบรวมข้อมูลตามกระบวนการออกแบบเชิงวิศวกรรม พฤติกรรมใดสอดคล้องกับหลักการคิดคล่องแคล่ว?",
                "choices": [
                    "ค้นหาข้อมูลจากเว็บไซต์ที่น่าเชื่อถือที่สุดบนอินเทอร์เน็ตเพียงแหล่งเดียว",
                    "สอบถามอาจารย์ที่ปรึกษาเพื่อนำแนวทางไปปฏิบัติตามอย่างเคร่งครัดทุกขั้นตอน",
                    "สังเกตจากสถานที่จริงและสอบถามผู้ใช้งานเพื่อหาข้อมูลที่ตรงกับความต้องการ",
                    "รวบรวมข้อมูลจากทั้งอินเทอร์เน็ต การสัมภาษณ์ และการลงพื้นที่สำรวจสถานการณ์จริง"
                ],
                "correct_choice_index": 3, 
                "category": "Fluency"
            },
            {
                "question_text": "17. การเสนอแนวทางการแก้ปัญหายุงลายระบาดในโรงเรียน ข้อใดแสดงถึงการผลิตทางเลือกที่คล่องแคล่วหลากหลาย?",
                "choices": [
                    "มุ่งเน้นไปที่การกำจัดแหล่งเพาะพันธุ์ลูกน้ำยุงลายในบริเวณที่น้ำท่วมขัง",
                    "ประสานงานหน่วยงานสาธารณสุขเพื่อเข้ามาฉีดพ่นหมอกควันทั่วบริเวณโรงเรียน",
                    "ติดตั้งมุ้งลวดตามบานหน้าต่างและประตูห้องเรียนทุกห้องเพื่อป้องกันยุงเข้า",
                    "เสนอให้ใช้ทั้งการคว่ำภาชนะ ฉีดพ่นหมอกควัน ติดมุ้งลวด และทายากันยุงร่วมกัน"
                ],
                "correct_choice_index": 3, 
                "category": "Fluency"
            },
            {
                "question_text": "18. เป้าหมายหลักของการประเมินทักษะความคิดคล่องแคล่ว (Fluency) ในการแก้ปัญหาคือข้อใด?",
                "choices": [
                    "การค้นหาคำตอบที่ถูกต้องและแม่นยำที่สุดเพียงหนึ่งเดียวอย่างรวดเร็ว",
                    "การผลิตแนวคิดหรือสร้างทางเลือกออกมาให้ได้จำนวนมากที่สุดในเวลาที่จำกัด",
                    "การวิเคราะห์ความเป็นไปได้ของแต่ละไอเดียอย่างละเอียดและรอบคอบที่สุด",
                    "การนำเสนอแนวคิดที่มีความแปลกใหม่และไม่เคยมีใครทำมาก่อนในระดับสากล"
                ],
                "correct_choice_index": 1, 
                "category": "Fluency"
            },
            {
                "question_text": "19. หากต้องการโปรโมทงานกีฬาสีของโรงเรียนให้เป็นที่รู้จัก ข้อใดคือการเลือกใช้ช่องทางประชาสัมพันธ์อย่างคล่องแคล่ว?",
                "choices": [
                    "พิมพ์โปสเตอร์ขนาดใหญ่ไปติดไว้ตามบอร์ดประชาสัมพันธ์ของโรงเรียน",
                    "ประกาศผ่านระบบเสียงตามสายของโรงเรียนในช่วงเวลาพักกลางวันทุกวัน",
                    "สร้างแคมเปญโปรโมทผ่านโซเชียลมีเดียทั้งเฟซบุ๊ก อินสตาแกรม และติ๊กต็อก",
                    "นำเสนอแนวทางโปรโมทที่ใช้ทั้งสื่อสิ่งพิมพ์ สื่อเสียง และสื่อออนไลน์ร่วมกัน"
                ],
                "correct_choice_index": 3, 
                "category": "Fluency"
            },
            {
                "question_text": "20. เมื่อชิ้นงานต้นแบบเกิดความเสียหายระหว่างการทดสอบ สิ่งแรกที่ควรทำตามหลักการคิดหาทางเลือกคือข้อใด?",
                "choices": [
                    "ตัดสินใจล้มเลิกโปรเจกต์และเริ่มต้นค้นหาหัวข้อโครงงานชิ้นใหม่แทน",
                    "ตรวจสอบว่าใครในทีมเป็นผู้รับผิดชอบและทำการตักเตือนเพื่อไม่ให้เกิดซ้ำ",
                    "นำวิธีการแก้ปัญหาสำรองข้ออื่นๆ ที่เคยระดมสมองไว้มาพิจารณาใช้งานทันที",
                    "สรุปว่าเป็นความผิดพลาดของคุณภาพวัสดุอุปกรณ์และขออนุมัติงบประมาณใหม่"
                ],
                "correct_choice_index": 2, 
                "category": "Fluency"
            },

            # --- ด้านที่ 3: ความคิดยืดหยุ่น (Flexibility) ---
            {
                "question_text": "21. โครงสร้างสะพานไม้จำลองรับน้ำหนักได้ไม่ถึงเกณฑ์ หากการเพิ่มจำนวนไม้ไม่ได้ผล ควรปรับเปลี่ยนมุมมองอย่างไร?",
                "choices": [
                    "นำไม้ไอศกรีมมาทากาวซ้อนทับกันให้มีความหนาและแข็งแรงเพิ่มมากขึ้น",
                    "เปลี่ยนรูปทรงโครงสร้างจากสี่เหลี่ยมเป็นแบบสามเหลี่ยมเพื่อช่วยกระจายแรงรับ",
                    "เลือกใช้กาวอีพ็อกซี่ชนิดพิเศษที่มีความเหนียวและสามารถยึดเกาะได้ดีกว่าเดิม",
                    "ปรับลดน้ำหนักของลูกตุ้มที่ใช้ทดสอบลงเพื่อให้โครงสร้างเดิมสามารถรองรับไหว"
                ],
                "correct_choice_index": 1, 
                "category": "Flexibility"
            },
            {
                "question_text": "22. การนำคลิปหนีบกระดาษไปใช้งานในข้อใด สะท้อนถึงการมีความคิดยืดหยุ่นข้ามหมวดหมู่ได้ชัดเจนที่สุด?",
                "choices": [
                    "นำไปใช้หนีบธนบัตรหรือเอกสารสำคัญอื่นๆ เพื่อป้องกันการตกหล่นสูญหาย",
                    "นำไปใช้หนีบถุงขนมที่เปิดรับประทานไม่หมดเพื่อรักษาความกรอบของอาหาร",
                    "นำปลายที่แหลมไปใช้จิ้มถาดใส่ซิมโทรศัพท์มือถือแทนเข็มจิ้มซิมที่หายไป",
                    "นำคลิปหนีบกระดาษหลายๆ ตัวมาร้อยต่อกันให้ยาวขึ้นเพื่อใช้มัดสิ่งของต่างๆ"
                ],
                "correct_choice_index": 2, 
                "category": "Flexibility"
            },
            {
                "question_text": "23. หากฝนตกหนักจนไม่สามารถจัดการแข่งขันกีฬาสีกลางแจ้งได้ ฝ่ายจัดงานควรแก้ปัญหาด้วยความยืดหยุ่นอย่างไร?",
                "choices": [
                    "ประกาศยกเลิกการแข่งขันกีฬาสีกลางแจ้งทั้งหมดเพื่อความปลอดภัยของทุกคน",
                    "เลื่อนกำหนดการจัดงานออกไปอย่างไม่มีกำหนดจนกว่าสภาพอากาศจะเอื้ออำนวย",
                    "ปรับรูปแบบการแข่งขันไปเป็นอีสปอร์ตหรือกีฬาในร่มที่ใช้หอประชุมแทน",
                    "ดำเนินการแข่งขันต่อไปตามกำหนดการเดิมโดยให้นักเรียนสวมเสื้อกันฝนลงแข่ง"
                ],
                "correct_choice_index": 2, 
                "category": "Flexibility"
            },
            {
                "question_text": "24. การแก้ปัญหาจราจรหน้าโรงเรียน หากวิธีขยายถนนทำไม่ได้เพราะติดพื้นที่ชุมชน ควรเปลี่ยนไปใช้วิธีใด?",
                "choices": [
                    "เจรจาขอเวนคืนที่ดินและทุบตึกแถวบริเวณนั้นเพื่อขยายช่องจราจรให้กว้างขึ้น",
                    "เปลี่ยนระบบการเดินรถเป็นแบบทางเดินรถทางเดียวในช่วงเวลารับส่งนักเรียน",
                    "ปล่อยให้ปัญหารถติดดำเนินต่อไปเนื่องจากไม่สามารถแก้ไขโครงสร้างถนนได้",
                    "ออกกฎระเบียบห้ามผู้ปกครองขับรถยนต์ส่วนตัวเข้ามาในซอยหน้าโรงเรียนเด็ดขาด"
                ],
                "correct_choice_index": 1, 
                "category": "Flexibility"
            },
            {
                "question_text": "25. ในการสร้างหุ่นยนต์เคลื่อนที่ หากเซนเซอร์ตรวจจับเส้นพังและไม่สามารถหาซื้อทดแทนได้ ควรแก้ปัญหาอย่างไร?",
                "choices": [
                    "ถอดชิ้นส่วนหุ่นยนต์ออกทั้งหมดแล้วประกอบใหม่เป็นโครงงานประเภทอื่นแทน",
                    "ปรับเปลี่ยนไปใช้โมดูลกล้องเพื่อประมวลผลภาพเส้นทางแทนการใช้เซนเซอร์แสง",
                    "หยุดการพัฒนาโครงงานไว้ชั่วคราวและรอจนกว่าจะสามารถสั่งซื้ออะไหล่ชิ้นใหม่ได้",
                    "ปรับแก้โค้ดโปรแกรมให้หุ่นยนต์วิ่งเป็นเส้นตรงโดยไม่ต้องอาศัยการตรวจจับเส้น"
                ],
                "correct_choice_index": 1, 
                "category": "Flexibility"
            },
            {
                "question_text": "26. หากนักเรียนออกแบบเครื่องรดน้ำต้นไม้อัตโนมัติ แต่ไฟฟ้าดับเครื่องจึงไม่ทำงาน จะปรับปรุงหลักการทำงานอย่างไร?",
                "choices": [
                    "ติดตั้งแผงโซลาร์เซลล์พร้อมแบตเตอรี่สำรองเพื่อเป็นแหล่งพลังงานไฟฟ้าทดแทน",
                    "ลากสายไฟต่อพ่วงให้ยาวขึ้นเพื่อเชื่อมต่อกับปลั๊กไฟในอาคารที่กระแสไฟฟ้าไม่ดับ",
                    "เปลี่ยนหลักการทำงานเป็นระบบน้ำหยดจากขวดพลาสติกคว่ำโดยไม่ง้อกระแสไฟฟ้า",
                    "เขียนโปรแกรมแจ้งเตือนผ่านแอปพลิเคชันไลน์เมื่อเซนเซอร์ตรวจพบว่าไฟฟ้าขัดข้อง"
                ],
                "correct_choice_index": 2, 
                "category": "Flexibility"
            },
            {
                "question_text": "27. การมองปัญหาขยะพลาสติกในมุมมองของนักออกแบบเชิงวิศวกรรม ควรมีความยืดหยุ่นในการเปลี่ยนมุมมองอย่างไร?",
                "choices": [
                    "มองว่าเป็นภาระหลักของสังคมที่ต้องเร่งนำไปกำจัดด้วยวิธีการเผาทำลาย",
                    "มองว่าเป็นสิ่งสกปรกปนเปื้อนที่ต้องคัดแยกออกจากพื้นที่ชุมชนโดยเร่งด่วน",
                    "มองว่าเป็นทรัพยากรตั้งต้นที่มีมูลค่าสำหรับการนำมาผลิตเป็นชิ้นงานประดิษฐ์ใหม่",
                    "มองว่าเป็นปัญหาเชิงนโยบายที่หน่วยงานภาครัฐระดับประเทศต้องเข้ามาจัดการ"
                ],
                "correct_choice_index": 2, 
                "category": "Flexibility"
            },
            {
                "question_text": "28. หากแอปพลิเคชันที่เขียนขึ้นใช้งานได้เฉพาะระบบ Android แต่กลุ่มเป้าหมายใช้ iOS นักเรียนควรแก้ปัญหาอย่างไร?",
                "choices": [
                    "โน้มน้าวให้เพื่อนกลุ่มเป้าหมายดังกล่าวเปลี่ยนมาใช้โทรศัพท์มือถือระบบแอนดรอยด์",
                    "ปรับเปลี่ยนไปพัฒนาเป็นเว็บแอปพลิเคชันที่สามารถเปิดเข้าถึงได้ผ่านทุกระบบ",
                    "จัดทำคู่มือการใช้งานอย่างละเอียดเพื่อแจกจ่ายให้กับเฉพาะกลุ่มผู้ใช้ระบบแอนดรอยด์",
                    "ยกเลิกการพัฒนาแอปพลิเคชันตัวนี้และเริ่มต้นค้นหาโครงงานหัวข้อใหม่มาทำแทน"
                ],
                "correct_choice_index": 1, 
                "category": "Flexibility"
            },
            {
                "question_text": "29. เมื่อเจอปัญหาทางตันในการคิดงานออกแบบหรือการเขียนโปรแกรม ข้อใดคือวิธีการรับมือที่ยืดหยุ่นที่สุด?",
                "choices": [
                    "นั่งเพ่งสมาธิอยู่ที่โต๊ะทำงานเดิมจนกว่าจะสามารถคิดหาวิธีการแก้ปัญหาได้สำเร็จ",
                    "เปลี่ยนบรรยากาศไปเดินเล่นหรือทำกิจกรรมอื่นเพื่อให้สมองเกิดการผ่อนคลาย",
                    "นำผลงานของเพื่อนกลุ่มอื่นมาดัดแปลงแก้ไขเล็กน้อยเพื่อส่งเป็นงานของตนเอง",
                    "หยุดพักการทำงานชั่วคราวด้วยการนอนหลับพักผ่อนเพื่อลดความตึงเครียดสะสม"
                ],
                "correct_choice_index": 1, 
                "category": "Flexibility"
            },
            {
                "question_text": "30. ข้อใดแสดงถึงลักษณะของคนที่มีความคิดยืดหยุ่น (Flexibility) ในการทำงานกลุ่มได้อย่างชัดเจนที่สุด?",
                "choices": [
                    "ยึดติดกับวิธีการเดิมที่เคยทำสำเร็จมาแล้วในอดีตเพื่อลดความเสี่ยงในการทำงาน",
                    "เชื่อมั่นในแนวคิดของตนเองและไม่ยอมรับฟังความคิดเห็นที่แตกต่างจากผู้อื่น",
                    "พร้อมปรับเปลี่ยนแผนงานและวิธีการได้เสมอเมื่อสถานการณ์หรือเงื่อนไขแวดล้อมเปลี่ยน",
                    "ปฏิบัติงานตามคำสั่งและขั้นตอนที่ได้รับมอบหมายอย่างเคร่งครัดโดยไม่พลิกแพลง"
                ],
                "correct_choice_index": 2, 
                "category": "Flexibility"
            },

            # --- ด้านที่ 4: ความคิดละเอียดลออ (Elaboration) ---
            {
                "question_text": "31. ในการเขียนแบบร่าง (Sketch) ถังขยะอัจฉริยะ รายละเอียดใดที่ขาดไม่ได้เพื่อให้ช่างนำไปสร้างงานได้จริง?",
                "choices": [
                    "การระบุชื่อผู้ออกแบบและแนวคิดหลักเพื่อให้ผลงานมีความน่าเชื่อถือทางวิชาการ",
                    "การแรเงาและลงสีสันที่สวยงามสมจริงเพื่อดึงดูดความสนใจของคณะกรรมการประเมิน",
                    "การระบุมาตราส่วน ขนาดความกว้างยาว และชนิดของวัสดุประกอบเพื่อการสร้างชิ้นงาน",
                    "การเขียนบรรยายแรงบันดาลใจและที่มาของปัญหาอย่างละเอียดในส่วนท้ายของแบบร่าง"
                ],
                "correct_choice_index": 2, 
                "category": "Elaboration"
            },
            {
                "question_text": "32. ก่อนลงมือสร้างชิ้นงานจริง ทำไมกระบวนการออกแบบจึงต้องให้ความสำคัญกับการทำตารางแผนงาน (Gantt Chart)?",
                "choices": [
                    "เพื่อให้เอกสารโครงงานมีความสมบูรณ์ตามข้อกำหนดของรายวิชาการออกแบบและเทคโนโลยี",
                    "เพื่อให้เห็นลำดับขั้นตอนการทำงานอย่างชัดเจนและสามารถบริหารเวลาได้ทันกำหนดส่ง",
                    "เพื่อแสดงให้เห็นถึงความซับซ้อนของกระบวนการทำงานและเพิ่มคะแนนในส่วนการนำเสนอ",
                    "เพื่อใช้เป็นหลักฐานยืนยันว่านักเรียนได้ลงมือปฏิบัติงานจริงตามที่ได้ระบุไว้ในแผนงาน"
                ],
                "correct_choice_index": 1, 
                "category": "Elaboration"
            },
            {
                "question_text": "33. หากต้องการออกแบบทางลาดสำหรับวีลแชร์ นอกจากการคำนวณความชันที่เหมาะสมแล้ว ต้องคำนึงถึงรายละเอียดใด?",
                "choices": [
                    "การเลือกใช้สีทาพื้นที่มีความสดใสและสะดุดตาเพื่อเพิ่มความสวยงามให้กับภูมิทัศน์",
                    "การเลือกใช้วัสดุพื้นผิวที่ช่วยป้องกันการลื่นไถลพร้อมทั้งติดตั้งราวกันตกที่ได้มาตรฐาน",
                    "การพิจารณาเลือกใช้วัสดุก่อสร้างที่มีราคาถูกที่สุดเพื่อประหยัดงบประมาณของโครงการ",
                    "การออกแบบโครงสร้างที่สามารถดำเนินการก่อสร้างได้รวดเร็วที่สุดเพื่อลดผลกระทบ"
                ],
                "correct_choice_index": 1, 
                "category": "Elaboration"
            },
            {
                "question_text": "34. ในขั้นตอนการนำเสนอผลงาน ข้อมูลใดจะทำให้การนำเสนอน่าเชื่อถือและแสดงถึงความสมบูรณ์ของโครงงานที่สุด?",
                "choices": [
                    "ข้อมูลผลการทดสอบประสิทธิภาพที่แสดงผลเป็นตัวเลขและกราฟสถิติที่ชัดเจนตรวจสอบได้",
                    "ภาพถ่ายกระบวนการทำงานที่ผ่านการตกแต่งสีสันให้ดูสวยงามและมีความละเอียดหน้าจอสูง",
                    "การใช้ถ้อยคำโฆษณาชวนเชื่อที่กระตุ้นอารมณ์ความรู้สึกของผู้ฟังให้คล้อยตามได้อย่างดี",
                    "ประวัติส่วนตัวและผลงานในอดีตของสมาชิกในทีมเพื่อสร้างความน่าเชื่อถือให้กับโครงงาน"
                ],
                "correct_choice_index": 0, 
                "category": "Elaboration"
            },
            {
                "question_text": "35. การตกแต่งชิ้นงานให้สวยงาม (Aesthetics) มีความสำคัญอย่างไรต่อกระบวนการคิดละเอียดลออในงานออกแบบ?",
                "choices": [
                    "ไม่มีความจำเป็นต่อการออกแบบเชิงวิศวกรรมเนื่องจากควรเน้นที่ฟังก์ชันการใช้งานเท่านั้น",
                    "ช่วยเพิ่มมูลค่าให้กับผลิตภัณฑ์และสามารถดึงดูดความสนใจจากกลุ่มผู้ใช้งานเป้าหมายได้",
                    "ทำให้ชิ้นงานดูมีราคาแพงและสามารถแข่งขันกับผลิตภัณฑ์ที่นำเข้าจากต่างประเทศได้ดีกว่า",
                    "ทำให้กระบวนการผลิตมีความยุ่งยากซับซ้อนและส่งผลให้ผู้ใช้งานเรียนรู้วิธีการใช้งานยากขึ้น"
                ],
                "correct_choice_index": 1, 
                "category": "Elaboration"
            },
            {
                "question_text": "36. หากจะทำเครื่องให้อาหารสัตว์เลี้ยงอัตโนมัติ รายละเอียดเล็กน้อยใดที่ควรใส่ใจเพื่อความปลอดภัยของสัตว์เลี้ยง?",
                "choices": [
                    "ติดตั้งหลอดไฟแอลอีดีกระพริบระยิบระยับเพื่อดึงดูดความสนใจของสัตว์เลี้ยงในเวลากลางคืน",
                    "เลือกใช้ระบบมอเตอร์ไฟฟ้ากำลังสูงเพื่อให้สามารถจ่ายอาหารปริมาณมากได้อย่างรวดเร็ว",
                    "ลบเหลี่ยมมุมที่แหลมคมของชิ้นส่วนและเลือกใช้พลาสติกประเภทฟู้ดเกรดเพื่อความปลอดภัย",
                    "ติดตั้งลำโพงขยายเสียงขนาดใหญ่เพื่อส่งเสียงเรียกสัตว์เลี้ยงเมื่อถึงเวลาให้อาหารตามกำหนด"
                ],
                "correct_choice_index": 2, 
                "category": "Elaboration"
            },
            {
                "question_text": "37. บุคคลที่มีความคิดละเอียดลออ (Elaboration) ในการพัฒนาระบบหรือโครงงาน มักจะมีลักษณะพฤติกรรมในข้อใด?",
                "choices": [
                    "เน้นการคิดหาคำตอบและวิธีการแก้ปัญหาอย่างรวดเร็วเพื่อให้กระบวนการทำงานเสร็จสิ้นไวที่สุด",
                    "มองเห็นจุดบกพร่องเล็กๆ น้อยๆ ที่อาจเกิดขึ้นและเตรียมหาทางแก้ไขเพื่อปิดช่องโหว่ของระบบนั้น",
                    "มุ่งเน้นการคิดภาพรวมในมุมกว้างโดยไม่จำเป็นต้องลงลึกในรายละเอียดของขั้นตอนการปฏิบัติงาน",
                    "ยึดมั่นในแนวทางการแก้ปัญหาที่เป็นมาตรฐานสากลซึ่งได้รับการยอมรับจากคนส่วนใหญ่ในสังคม"
                ],
                "correct_choice_index": 1, 
                "category": "Elaboration"
            },
            {
                "question_text": "38. ในการเขียนโค้ดโปรแกรมควบคุมระบบ ขั้นตอนใดที่แสดงให้เห็นถึงความละเอียดลออเพื่อให้ระบบมีความสมบูรณ์ที่สุด?",
                "choices": [
                    "การเลือกใช้ชื่อตัวแปรที่สั้นและพิมพ์ง่ายที่สุดเพื่อให้กระบวนการเขียนโปรแกรมเสร็จสิ้นอย่างรวดเร็ว",
                    "การเขียนชุดคำสั่งดักจับข้อผิดพลาดล่วงหน้าเพื่อป้องกันไม่ให้ระบบหยุดทำงานเมื่อเกิดเหตุไม่คาดฝัน",
                    "การลบคำอธิบายชุดคำสั่งหรือคอมเมนต์ออกทั้งหมดเพื่อลดขนาดพื้นที่จัดเก็บของไฟล์โปรแกรมลง",
                    "การปรับลดเงื่อนไขในการทำงานของระบบลงเพื่อให้โปรแกรมสามารถทำงานตอบสนองได้อย่างรวดเร็วขึ้น"
                ],
                "correct_choice_index": 1, 
                "category": "Elaboration"
            },
            {
                "question_text": "39. เมื่อออกแบบบรรจุภัณฑ์ (Packaging) นอกเหนือจากความสวยงามแล้ว ต้องคำนึงถึงสิ่งใดเพื่อให้เกิดประโยชน์สูงสุด?",
                "choices": [
                    "การออกแบบลวดลายกราฟิกบนกล่องให้มีความโดดเด่นสะดุดตาและแตกต่างจากคู่แข่งในท้องตลาด",
                    "การเลือกใช้วัสดุที่สามารถปกป้องสินค้าไม่ให้แตกหักพร้อมทั้งออกแบบให้ผู้บริโภคเปิดปิดได้ง่าย",
                    "การระบุข้อมูลวันผลิต วันหมดอายุ และส่วนประกอบของสินค้าตามข้อกำหนดของกฎหมายคุ้มครอง",
                    "การใช้เทคนิคการพิมพ์ภาพสามมิติเพื่อสร้างความแปลกใหม่และเพิ่มมูลค่าให้กับตัวสินค้าภายใน"
                ],
                "correct_choice_index": 1, 
                "category": "Elaboration"
            },
            {
                "question_text": "40. ขั้นตอนใดในกระบวนการออกแบบเชิงวิศวกรรม ที่ต้องอาศัยความคิดละเอียดลออมากที่สุดเพื่ออุดช่องโหว่ของผลงาน?",
                "choices": [
                    "ขั้นตอนการระบุปัญหา เนื่องจากต้องทำความเข้าใจสถานการณ์และความต้องการของผู้ใช้งานอย่างแท้จริง",
                    "ขั้นตอนการรวบรวมข้อมูล เนื่องจากต้องสืบค้นทฤษฎีและหลักการทางวิทยาศาสตร์ที่เกี่ยวข้องทั้งหมด",
                    "ขั้นตอนการออกแบบวิธีการ เนื่องจากต้องเปรียบเทียบข้อดีข้อเสียของแต่ละทางเลือกก่อนการตัดสินใจ",
                    "ขั้นตอนการทดสอบและประเมินผล เนื่องจากต้องเก็บข้อมูลข้อบกพร่องเพื่อนำมาปรับปรุงแก้ไขชิ้นงาน"
                ],
                "correct_choice_index": 3, 
                "category": "Elaboration"
            }
        ]

        for idx, q_data in enumerate(questions):
            q = edp.QuizQuestion(
                question_text=q_data["question_text"],
                choices=q_data["choices"],
                correct_choice_index=q_data["correct_choice_index"],
                order=idx + 1,
                category=q_data["category"]
            )
            db.add(q)
        
        db.commit()
        print("นำเข้าข้อสอบชุดใหม่ 40 ข้อเสร็จสมบูรณ์เรียบร้อยแล้ว!")
        
    except Exception as e:
        print(f"เกิดข้อผิดพลาดในการนำเข้าข้อสอบ: {e}")
        db.rollback()
    finally:
        db.close()

if __name__ == "__main__":
    seed_questions()